<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>إدارة المستخدمين</title>
    <link rel="stylesheet" href="user.css">
</head>
<body>
   <header class="navbar">
    <a href="/حجز/profile.html" class="user-link" aria-label="صفحة المستخدم">👤</a>

    <nav class="nav-center">
        <a href="index.html">الصفحة الرئيسية</a>
        <a href="time.html">المواعيد</a>
        <a href="user.html">المستخدمين</a>
    </nav>

    <div class="nav-left">احجز</div>
</header>

<div class="container-custom">
    <div class="user-header">
        <h2>قائمة المستخدمين</h2>
        <button class="add-btn" id="openPopup">➕ Add</button>
    </div>

    <table class="table-custom">
        <thead>
            <tr>
                <th>الاسم</th>
                <th>الرقم القومي</th>
                <th>الحالة</th>
            </tr>
        </thead>
        <tbody id="userTable">
            <tr>
                <td>محمد علي</td>
                <td>12345678901234</td>
                <td><span class="status-active">Active</span></td>
            </tr>
            <tr>
                <td>أحمد حسن</td>
                <td>98765432109876</td>
                <td><span class="status-inactive">Inactive</span></td>
            </tr>
        </tbody>
    </table>
</div>

<div class="popup-overlay" id="popupOverlay">
    <div class="popup">
        <h3>إضافة مستخدم جديد</h3>
        <label>الاسم:</label>
        <input type="text" id="nameInput">
        <label>الرقم القومي:</label>
        <input type="text" id="idInput">
        <label>الحالة:</label>
        <select id="statusInput">
            <option value="active">Active</option>
            <option value="inactive">Inactive</option>
        </select>
        <div class="popup-actions">
            <button id="saveUser" class="save-btn">حفظ</button>
            <button id="closePopup" class="cancel-btn">إلغاء</button>
        </div>
    </div>
</div>

<script>
    window.addEventListener('DOMContentLoaded', () => {
        document.body.classList.add('page-loaded');
    });

    document.querySelectorAll('a[href]').forEach(link => {
        link.addEventListener('click', (e) => {
            const href = link.getAttribute('href');
            if(href && !href.startsWith('#')) {
                e.preventDefault();
                document.body.classList.remove('page-loaded');
                setTimeout(() => window.location.href = href, 500);
            }
        });
    });

    const openPopup = document.getElementById("openPopup");
    const closePopup = document.getElementById("closePopup");
    const popupOverlay = document.getElementById("popupOverlay");
    const saveUser = document.getElementById("saveUser");
    const userTable = document.getElementById("userTable");

    openPopup.onclick = () => popupOverlay.classList.add("active");
    closePopup.onclick = () => popupOverlay.classList.remove("active");

    saveUser.onclick = () => {
        const name = document.getElementById("nameInput").value;
        const id = document.getElementById("idInput").value;
        const status = document.getElementById("statusInput").value;

        if (name && id) {
            const row = document.createElement("tr");
            row.innerHTML = `
                <td>${name}</td>
                <td>${id}</td>
                <td><span class="${status === "active" ? "status-active" : "status-inactive"}">${status.charAt(0).toUpperCase() + status.slice(1)}</span></td>
            `;
            userTable.appendChild(row);
            popupOverlay.classList.remove("active");
            document.getElementById("nameInput").value = "";
            document.getElementById("idInput").value = "";
        }
    };
</script>
</body>
</html>
