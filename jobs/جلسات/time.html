<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>المواعيد</title>
    <link rel="stylesheet" href="time.css">
</head>
<body>

<header class="navbar">
    <div class="nav-right">
        <span class="user-icon"><a href="/حجز/profile.html" >👤</a></span>
    </div>
    <nav class="nav-center">
        <a href="index.html">الصفحة الرئيسية</a>
        <a href="time.html">المواعيد</a>
        <a href="user.html">المستخدمين</a>
    </nav>
    <div class="nav-left">
        <span class="book-text">احجز</span>
    </div>
</header>

    <div class="background">
        <div class="overlay">

            <div class="search-box">
                 <button onclick="filterTable()">🔍</button>
                <input type="text" id="nameSearch" placeholder="بحث بالاسم">
               
            </div>

            <div class="date-filter">
                <label>من:</label>
                <input type="date" id="fromDate">
                <label>إلى:</label>
                <input type="date" id="toDate">
                <button onclick="filterTable()">بحث </button>
            </div>

            <div class="table-container">
                <table id="appointmentsTable">
                    <thead>
                        <tr>
                            <th>الاسم</th>
                            <th>الساعة</th>
                            <th>تاريخ الحجز</th>
                            <th>نوع العيادة</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>احمد محمد</td>
                            <td>08:00م</td>
                            <td>2025-01-15</td>
                            <td>باطنة</td>
                        </tr><tr>
                            <td> محمد احمد </td>
                            <td>01:00م</td>
                            <td>2025-08-15</td>
                            <td>عظام</td>
                        </tr><tr>
                            <td>مازن محمد</td>
                            <td>01:00م</td>
                            <td>2025-08-15</td>
                            <td>باطنة</td>
                        </tr><tr>
                            <td>زياد ايمن</td>
                            <td>01:00م</td>
                            <td>2025-09-9</td>
                            <td>باطنة</td>
                        </tr>
                        <tr>
                            <td>سارة علي</td>
                            <td>03:00م</td>
                            <td>2025-08-20</td>
                            <td>عظام</td>
                        </tr>
                        <tr>
                            <td>محمد محمود</td>
                            <td>10:00ص</td>
                            <td>2025-08-22</td>
                            <td>جلدية</td>
                        </tr>
                    </tbody>
                </table>
            </div>

        </div>
    </div>

<script>
function filterTable() {
    let nameSearch = document.getElementById("nameSearch").value.toLowerCase();
    let fromDate = document.getElementById("fromDate").value;
    let toDate = document.getElementById("toDate").value;
    let table = document.getElementById("appointmentsTable");
    let tr = table.getElementsByTagName("tr");

    for (let i = 1; i < tr.length; i++) {
        let tdName = tr[i].getElementsByTagName("td")[0];
        let tdDate = tr[i].getElementsByTagName("td")[2];
        if (tdName && tdDate) {
            let nameValue = tdName.textContent || tdName.innerText;
            let dateValue = tdDate.textContent || tdDate.innerText;

            let matchesName = nameSearch === "" || nameValue.toLowerCase().includes(nameSearch);
            let matchesDate = true;

            if (fromDate && dateValue < fromDate) matchesDate = false;
            if (toDate && dateValue > toDate) matchesDate = false;

            if (matchesName && matchesDate) {
                tr[i].style.display = "";
            } else {
                tr[i].style.display = "none";
            }
        }
    }
}
</script>

</body>
</html>
